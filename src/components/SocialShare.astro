---
import EmailShareButton from "~/components/social-share/Email.astro";
import FacebookShareButton from "~/components/social-share/Facebook.astro";
import HackerNewsShareButton from "~/components/social-share/HackerNews.astro";
import LinkedInShareButton from "~/components/social-share/LinkedIn.astro";
import RedditShareButton from "~/components/social-share/Reddit.astro";
import TwitterShareButton from "~/components/social-share/Twitter.astro";
import WhatsAppShareButton from "~/components/social-share/WhatsApp.astro";
import type { SocialShareProps } from "~/utils";

type Props = SocialShareProps & {
  buttons?: ((_props: SocialShareProps) => any)[];
};

const DEFAULT_COMPONENTS = [
  TwitterShareButton,
  FacebookShareButton,
  HackerNewsShareButton,
  LinkedInShareButton,
  RedditShareButton,
  EmailShareButton,
  WhatsAppShareButton
];

const {
  buttons = DEFAULT_COMPONENTS,
  url = Astro.request.url,
  title,
  description,
  via
} = Astro.props;
---

<style is:global>
  .astro-social-share {
    margin: 20px 0px;
    height: 24px;
    display: inline-flex;
  }
  .astro-social-share a {
    text-decoration: none;
    margin-right: 10px;
  }
  .astro-social-share svg {
    height: 24px;
    fill: white;
  }
</style>
<span class="astro-social-share">
  {
    buttons.map((Button) => (
      <Button url={url} description={description} via={via} title={title} />
    ))
  }
</span>
